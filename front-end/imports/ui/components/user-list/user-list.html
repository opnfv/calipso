<!-- 
###############################################################################
# Copyright (c) 2017-2018 Koren Lev (Cisco Systems),                          #
# Yaron Yogev (Cisco Systems), Ilia Abashin (Cisco Systems) and others        #
#                                                                             #
# All rights reserved. This program and the accompanying materials            #
# are made available under the terms of the Apache License, Version 2.0       #
# which accompanies this distribution, and is available at                    #
# http://www.apache.org/licenses/LICENSE-2.0                                  #
###############################################################################
 -->
<template name="UserList">
  <div class="table-view-container">
    <div class="table-view-title">USERS</div>
    <a class="add-new-item-text" href="{{pathFor route='user' query=(asHash action='insert') }}">
      <i class="view-new-item-icon fa fa-plus" area-hidden="true"></i> Create new user
    </a>
    <table class="table-view-results table">
      <thead>
        <tr>
          <th>User Name</th>
          <th>Emails</th>
          <th>Profile</th>
          <th>Roles</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        {{#each user in userList }}
        <tr>
          <td>{{ user.username }}</td>
          <td>{{ toString user.emails }}</td>
          <td>{{ toString user.profile }}</td>
          <td>{{ toString user.roles }}</td>
          <td>
            <div class="actions-list">
              <div class="actions-icon">
                <div class="dropdopwn drop-down-overflow">
                  <div class="dropdown-toggle actions-button" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true"
                    aria-expanded="true">
                    <img src="/icons/icon-export.svg">
                  </div>
                  <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenu1">
                    <li class="dropdown-action-header">
                      <a href="{{pathFor route='user' query=(asHash id=(idToStr user._id) action='view') }}">View</a>
                    </li>
                    <li class="dropdown-action-header">
                      <a href="{{pathFor route='user' query=(asHash id=(idToStr user._id) action='update') }}">Update</a>
                    </li>
                    <li class="dropdown-action-header">
                      <a href="{{pathFor route='user' query=(asHash id=(idToStr user._id) action='remove') }}">Remove</a>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </td>
        </tr>
        {{/each }}
      </tbody>
    </table>
  </div>
</template>